- name: Publish package to PyPI
  on:
      push:
          # Sequence of patterns matching tags
          tags:
              - '0.*' #Push events to matching v*, i.e. 0.0.0, 0.6.9
  uses: pypa/gh-action-pypi-publish@master
  with:
    user: __token__
    password: ${{ secrets.pypi_password }}

- name: Publish package to Conda
  on: [release]
  steps:
      - uses: actions/checkout@master # Checkouts to master
      - name: publish-to-conda
        uses: m0nhawk/conda-package-publish-action@master
        with:
            subDir: '.'
            AnacondaUsername: ${{ secrets.ANACONDA_PASSWORD }}
            AnacondaPassword: ${{ secrets.ANACONDA_USERNAME }}
